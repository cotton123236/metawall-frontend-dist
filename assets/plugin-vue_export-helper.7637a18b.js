var d=Object.defineProperty;var a=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var l=(t,e,r)=>e in t?d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,i=(t,e)=>{for(var r in e||(e={}))f.call(e,r)&&l(t,r,e[r]);if(a)for(var r of a(e))h.call(e,r)&&l(t,r,e[r]);return t};import{by as m,d as g}from"./index.198dde65.js";const{VITE_API_URL:c}={VITE_API_URL:"https://vast-wildwood-59278.herokuapp.com",VITE_GOOGLE_OAUTH_LOGIN_URL:"",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0},s={user:`${c}/users`,post:`${c}/posts`},o=m.create({baseURL:"http://127.0.0.1:3005"});o.interceptors.request.use(t=>(localStorage.getItem("token")&&(t.headers.Authorization="Bearer "+localStorage.getItem("token")),t),t=>(t.method.toUpperCase(),t),t=>t,t=>(alert("error",t),console.log("error",t),Promise.reject(t)));o.interceptors.response.use(t=>(console.log("interceptor:",t),t),t=>{const e=t.response.status;if(console.error("interceptor error",t),e===404){alert(`${e}: \u67E5\u7121\u6B64\u9801\u9762`);return}return t.response});function P(t){return o({url:`${s.user}/sign_in`,method:"post",data:t})}function w(t){return o({url:`${s.user}/sign_up_check`,method:"post",data:t})}function U(t){return o({url:`${s.user}/sign_up`,method:"post",data:t})}function y(){return o({url:`${s.user}/profile`,method:"get"})}function I(t){return o({url:`${s.user}/profile/${t}`,method:"get"})}function k(t){return console.log("data",t),o({url:`${s.user}/profile/${t.id}`,method:"patch",data:t.data})}function L(t){return o({url:`${s.user}/updatePassword`,method:"patch",data:t})}function E(t){let e=s.post;if(t){const{query:r}=t;Object.keys(r).forEach((n,p)=>{p===0?e+=`?${n}=${r[n]}`:e+=`&${n}=${r[n]}`})}return o({url:e,method:"get"})}function O(t){return o({url:`${s.post}/${t}`,method:"get"})}function v(t){return o({url:s.post,method:"post",data:t})}function B(t){const{_id:e,content:r,image:u}=t;return o({url:`${s.post}/${e}`,method:"patch",data:{content:r,image:u}})}function R(){return o({url:`${s.user}/follows`,method:"get"})}function A(t){return o({url:`${s.user}/follows/${t}`,method:"post"})}function S(t){return o({url:`${s.user}/follows/${t}`,method:"delete"})}function T(t){return o({url:`${s.user}/avatar`,method:"post",headers:{"Content-Type":"multipart/form-data"},data:t})}function b(){return o({url:`${s.post}/likes`,method:"get"})}const C=g("user",{state:()=>({_id:"",name:"",image:"",follows:[],likes:[]}),actions:{async patchUser(t){this.$patch(i({},t))}}});var V=(t,e)=>{const r=t.__vccOpts||t;for(const[u,n]of e)r[u]=n;return r};export{V as _,B as a,R as b,b as c,S as d,y as e,T as f,E as g,k as h,L as i,I as j,O as k,A as l,w as m,U as n,v as p,P as s,C as u};
