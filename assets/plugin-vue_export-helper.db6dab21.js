var d=Object.defineProperty;var a=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var c=(e,t,r)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,i=(e,t)=>{for(var r in t||(t={}))f.call(t,r)&&c(e,r,t[r]);if(a)for(var r of a(t))h.call(t,r)&&c(e,r,t[r]);return e};import{L as g,d as m}from"./index.a9013d62.js";const{VITE_API_URL:l}={VITE_API_URL:"https://obscure-temple-95558.herokuapp.com/",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0},o={user:`${l}/users`,post:`${l}/posts`},s=g.create({baseURL:"http://127.0.0.1:3005"});s.interceptors.request.use(e=>(localStorage.getItem("token")&&(e.headers.Authorization="Bearer "+localStorage.getItem("token")),e),e=>(e.method.toUpperCase(),e),e=>e,e=>(alert("error",e),console.log("error",e),Promise.reject(e)));s.interceptors.response.use(e=>(console.log("interceptor:",e),e),e=>{const t=e.response.status;if(console.error("interceptor error",e),t===404){alert(`${t}: \u67E5\u7121\u6B64\u9801\u9762`);return}return e.response});function P(e){return s({url:`${o.user}/sign_in`,method:"post",data:e})}function U(e){return s({url:`${o.user}/sign_up_check`,method:"post",data:e})}function I(e){return s({url:`${o.user}/sign_up`,method:"post",data:e})}function w(){return s({url:`${o.user}/profile`,method:"get"})}function y(e){return s({url:`${o.user}/profile/${e}`,method:"get"})}function k(e){return s({url:`${o.user}/updatePassword`,method:"patch",data:e})}function E(e){let t=o.post;if(e){const{query:r}=e;Object.keys(r).forEach((n,p)=>{p===0?t+=`?${n}=${r[n]}`:t+=`&${n}=${r[n]}`})}return s({url:t,method:"get"})}function B(e){return s({url:`${o.post}/${e}`,method:"get"})}function L(e){return s({url:o.post,method:"post",data:e})}function R(e){const{_id:t,content:r,image:u}=e;return s({url:`${o.post}/${t}`,method:"patch",data:{content:r,image:u}})}function S(){return s({url:`${o.user}/follows`,method:"get"})}function b(e){return s({url:`${o.user}/follows/${e}`,method:"delete"})}const v=m("user",{state:()=>({_id:"",name:"",image:"",follows:[],likes:[]}),actions:{async patchUser(e){this.$patch(i({},e))}}});var A=(e,t)=>{const r=e.__vccOpts||e;for(const[u,n]of t)r[u]=n;return r};export{A as _,R as a,S as b,w as c,b as d,k as e,y as f,E as g,B as h,U as i,I as j,L as p,P as s,v as u};
