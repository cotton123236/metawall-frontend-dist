var d=Object.defineProperty;var a=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var l=(t,e,o)=>e in t?d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,c=(t,e)=>{for(var o in e||(e={}))f.call(e,o)&&l(t,o,e[o]);if(a)for(var o of a(e))h.call(e,o)&&l(t,o,e[o]);return t};import{bz as m,d as $}from"./index.d7c42a5f.js";const{VITE_API_URL:i}={VITE_API_URL:"https://obscure-temple-95558.herokuapp.com",VITE_GOOGLE_OAUTH_LOGIN_URL:"",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0},s={user:`${i}/users`,post:`${i}/posts`},r=m.create({baseURL:"http://127.0.0.1:3005"});r.interceptors.request.use(t=>(localStorage.getItem("token")&&(t.headers.Authorization="Bearer "+localStorage.getItem("token")),t),t=>(t.method.toUpperCase(),t),t=>t,t=>(alert("error",t),console.log("error",t),Promise.reject(t)));r.interceptors.response.use(t=>(console.log("interceptor:",t),t),t=>{const e=t.response.status;if(console.error("interceptor error",t),e===404){alert(`${e}: \u67E5\u7121\u6B64\u9801\u9762`);return}return t.response});function P(t){return r({url:`${s.user}/sign_in`,method:"post",data:t})}function U(t){return r({url:`${s.user}/sign_up_check`,method:"post",data:t})}function I(t){return r({url:`${s.user}/sign_up`,method:"post",data:t})}function k(){return r({url:`${s.user}/profile`,method:"get"})}function w(t){return r({url:`${s.user}/profile/${t}`,method:"get"})}function y(t){return console.log("data",t),r({url:`${s.user}/profile/${t.id}`,method:"patch",data:t.data})}function L(t){return r({url:`${s.user}/updatePassword`,method:"patch",data:t})}function E(t){let e=s.post;if(t){const{query:o}=t;Object.keys(o).forEach((n,p)=>{p===0?e+=`?${n}=${o[n]}`:e+=`&${n}=${o[n]}`})}return r({url:e,method:"get"})}function O(t){return r({url:`${s.post}/${t}`,method:"get"})}function B(t){return r({url:s.post,method:"post",data:t})}function R(t){const{_id:e,content:o,image:u}=t;return r({url:`${s.post}/${e}`,method:"patch",data:{content:o,image:u}})}function v(){return r({url:`${s.user}/follows`,method:"get"})}function A(t){return r({url:`${s.user}/follows/${t}`,method:"post"})}function b(t){return r({url:`${s.user}/follows/${t}`,method:"delete"})}function C(t){return r({url:`${s.user}/avatar`,method:"post",headers:{"Content-Type":"multipart/form-data"},data:t})}function S(){return r({url:`${s.post}/likes`,method:"get"})}function T(t,e){return r({url:`${s.post}/comment/${t}`,method:"post",data:{comment:e}})}const V=$("user",{state:()=>({_id:"",name:"",image:"",follows:[],likes:[]}),actions:{async patchUser(t){this.$patch(c({},t))}}});var j=(t,e)=>{const o=t.__vccOpts||t;for(const[u,n]of e)o[u]=n;return o};export{j as _,R as a,v as b,S as c,b as d,k as e,T as f,E as g,C as h,y as i,L as j,w as k,O as l,A as m,U as n,I as o,B as p,P as s,V as u};
