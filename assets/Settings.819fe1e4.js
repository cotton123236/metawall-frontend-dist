import{r as _,x as S,E as w,a as h,c as b,b as s,f as n,i as P,w as i,v as c,O as f,t as m,H as U,I as M}from"./index.a9013d62.js";import{_ as V,u as I,e as q}from"./plugin-vue_export-helper.db6dab21.js";import{v as y}from"./index.08c74b3c.js";const l=p=>(U("data-v-83b0acce"),p=p(),M(),p),E={class:"headshot-wrap"},x={class:"headshot"},B=l(()=>s("input",{type:"file"},null,-1)),C=["src"],D=l(()=>s("i",{class:"icon-plus"},null,-1)),N={class:"content"},L={class:"inner"},F=l(()=>s("h2",null,"\u7DE8\u8F2F\u500B\u4EBA\u8CC7\u6599",-1)),H={class:"form-row","data-warning":""},O=l(()=>s("span",null,"\u4F7F\u7528\u8005\u540D\u7A31",-1)),R={class:"form-row form-radio"},T=l(()=>s("p",null,"\u4F7F\u7528\u8005\u6027\u5225",-1)),W={for:"male"},j=l(()=>s("div",{class:"fake-radio"},null,-1)),z=l(()=>s("span",null,"\u7537\u6027",-1)),A={for:"female"},G=l(()=>s("div",{class:"fake-radio"},null,-1)),J=l(()=>s("span",null,"\u5973\u6027",-1)),K={for:"unknown"},Q=l(()=>s("div",{class:"fake-radio"},null,-1)),X=l(()=>s("span",null,"\u672A\u77E5\u5B87\u5B99\u751F\u7269",-1)),Y={class:"api-error"},Z={class:"api-success"},$=l(()=>s("h2",null,"\u91CD\u65B0\u8A2D\u5B9A\u5BC6\u78BC",-1)),ss=["data-warning"],es=l(()=>s("span",null,"\u539F\u5BC6\u78BC",-1)),as=["data-warning"],os=l(()=>s("span",null,"\u4F7F\u7528\u8005\u5BC6\u78BC",-1)),rs=["data-warning"],ls=l(()=>s("span",null,"\u78BA\u8A8D\u4F7F\u7528\u8005\u5BC6\u78BC",-1)),ts={class:"api-error"},ns={class:"api-success"},ds={setup(p){const g=I(),t=_({nickName:"",email:"",old_password:"",password:"",confirm_password:""}),v=_(" "),u=_(" "),d=S({name:"Wilson",gender:2,old_password:"",password:"12345678",confirm_password:"12345678"}),o=_({old_password:"",password:"",confirm_password:""});w(()=>o.value.old_password,(a,e)=>{a!==e&&(u.value=""),t.value.old_password=a.trim()?"":"\u8ACB\u586B\u5BEB\u5167\u5BB9"}),w(()=>o.value.password,(a,e)=>{a!==e&&(u.value=""),t.value.password=y.isLength(a.trim(),{min:8})?"":"\u5BC6\u78BC\u5C11\u65BC8\u500B\u5B57\u5143"}),w(()=>o.value.confirm_password,(a,e)=>{a!==e&&(u.value=""),t.value.confirm_password=o.value.password.trim()!==a.trim()?"\u5BC6\u78BC\u4E0D\u4E00\u81F4":""});const k=async()=>{if(!o.value.old_password.trim()||!o.value.password.trim()||!o.value.confirm_password.trim()){t.value.old_password="\u8ACB\u586B\u5BEB\u5167\u5BB9",t.value.password="\u8ACB\u586B\u5BEB\u5167\u5BB9",t.value.confirm_password="\u8ACB\u586B\u5BEB\u5167\u5BB9";return}if(o.value.password.trim()!==o.value.confirm_password.trim()){t.value.confirm_password="\u5BC6\u78BC\u4E0D\u4E00\u81F4";return}if(!y.isLength(o.value.password.trim(),{min:8})){t.value.confirm_password="\u5BC6\u78BC\u5C11\u65BC8\u500B\u5B57\u5143";return}const{data:a}=await q(o.value);a.status==="success"?(u.value=a.message,v.value=""):(console.log("data",a),v.value=a.message)};return(a,e)=>(h(),b("section",null,[s("div",E,[s("label",x,[B,n(g).image?(h(),b("img",{key:0,src:n(g).image,alt:""},null,8,C)):P("",!0)]),D]),s("div",N,[s("div",L,[F,s("form",null,[s("label",H,[i(s("input",{id:"name",type:"text",required:"","onUpdate:modelValue":e[0]||(e[0]=r=>n(d).name=r)},null,512),[[c,n(d).name]]),O]),s("div",R,[T,s("label",W,[i(s("input",{name:"gender",id:"male",value:"0",type:"radio","onUpdate:modelValue":e[1]||(e[1]=r=>n(d).gender=r)},null,512),[[f,n(d).gender]]),j,z]),s("label",A,[i(s("input",{name:"gender",id:"female",value:"1",type:"radio","onUpdate:modelValue":e[2]||(e[2]=r=>n(d).gender=r)},null,512),[[f,n(d).gender]]),G,J]),s("label",K,[i(s("input",{name:"gender",id:"unknown",value:"2",type:"radio","onUpdate:modelValue":e[3]||(e[3]=r=>n(d).gender=r)},null,512),[[f,n(d).gender]]),Q,X])]),s("div",Y,m(a.apiErrorMessageProfile),1),s("div",Z,m(a.apiSuccessMessageProfile),1),s("div",{class:"rect-btn fill submit-btn",onClick:e[4]||(e[4]=(...r)=>a.changeProfile&&a.changeProfile(...r))}," \u4FEE\u6539\u500B\u4EBA\u8CC7\u6599 ")]),$,s("form",null,[s("label",{class:"form-row","data-warning":t.value.old_password},[i(s("input",{id:"password",type:"password",required:"","onUpdate:modelValue":e[5]||(e[5]=r=>o.value.old_password=r)},null,512),[[c,o.value.old_password]]),es],8,ss),s("label",{class:"form-row","data-warning":t.value.password},[i(s("input",{id:"password",type:"password",required:"","onUpdate:modelValue":e[6]||(e[6]=r=>o.value.password=r)},null,512),[[c,o.value.password]]),os],8,as),s("label",{class:"form-row","data-warning":t.value.confirm_password},[i(s("input",{id:"confirm-password",type:"password",required:"","onUpdate:modelValue":e[7]||(e[7]=r=>o.value.confirm_password=r)},null,512),[[c,o.value.confirm_password]]),ls],8,rs),s("div",ts,m(v.value),1),s("div",ns,m(u.value),1)]),s("div",{class:"rect-btn fill submit-btn",onClick:k}," \u4FEE\u6539\u5BC6\u78BC ")])])]))}};var _s=V(ds,[["__scopeId","data-v-83b0acce"]]);export{_s as default};
